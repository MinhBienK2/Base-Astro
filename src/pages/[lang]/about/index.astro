---
import { Language, lazyLoadImgClass } from 'common/constants';
import LazyLoadImgLayout from 'layouts/LazyLoadImgLayout.astro';
import { getSupportedLanguages } from 'utils/i18n';

export async function getStaticPaths() {
  return getSupportedLanguages([Language.id]).map(lang => ({
    params: { lang },
    props: {},
  }));
}
---

<LazyLoadImgLayout title="Lazyload Image">
  <p>Demo lazyload sử dụng Intersection Observer API</p>

  <img
    src="https://images.unsplash.com/photo-1507525428034-b723cf961d3e?w=753&q=80"
    width="753"
    height="500"
    alt="A scenic view of mountains"
  />
  <img
    src="https://images.unsplash.com/photo-1519046904884-53103b34b206?w=753&q=80"
    width="753"
    height="500"
    alt="A scenic view of mountains"
  />
  <img
    data-src="https://images.unsplash.com/photo-1495954484750-af469f2f9be5?w=753&q=80"
    width="753"
    height="500"
    class={lazyLoadImgClass}
    alt="A scenic view of mountains"
  />
  <img
    data-src="https://images.unsplash.com/photo-1587502536900-baf0c55a3f74?w=753&q=80"
    width="753"
    height="500"
    class={lazyLoadImgClass}
    alt="A scenic view of mountains"
  />
  <img
    data-src="https://images.unsplash.com/photo-1510414842594-a61c69b5ae57?w=753&q=80"
    width="753"
    height="500"
    class={lazyLoadImgClass}
    alt="A scenic view of mountains"
  />
  <img
    data-src="https://images.unsplash.com/photo-1471922694854-ff1b63b20054?w=753&q=80"
    width="753"
    height="500"
    class={lazyLoadImgClass}
    alt="A scenic view of mountains"
  />
  <div
    data-src="https://images.unsplash.com/photo-1473186578172-c141e6798cf4?w=753&q=80"
    class:list={['lazy-bg', lazyLoadImgClass]}
  >
  </div>
  <div
    data-src="https://images.unsplash.com/photo-1487349384428-12b47aca925e?w=753&q=80"
    class:list={['lazy-bg', lazyLoadImgClass]}
  >
  </div>
  <div
    data-src="https://images.unsplash.com/photo-1527437934671-61474b530017?w=753&q=80"
    class:list={['lazy-bg', lazyLoadImgClass]}
  >
  </div>
  <div
    data-src="https://images.unsplash.com/photo-1473496169904-658ba7c44d8a?w=753&q=80"
    class:list={['lazy-bg', lazyLoadImgClass]}
  >
  </div>
</LazyLoadImgLayout>

<style>
  body {
    font-family:
      -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
    text-align: center;
    font-weight: 600;
    font-size: 20px;
  }

  img {
    display: block;
    max-width: 100%;
    margin: 10px auto;
    border: 0;
  }

  .lazy-bg {
    width: 753px;
    height: 500px;
    margin: 10px auto;
    background-size: cover;
    background-position: center;
  }
</style>
